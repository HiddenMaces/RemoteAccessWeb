<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading Gateway...</title>
    <style>
        :root {
            --bg-dark: #0b0b15;
            --bg-panel: #151525;
            --accent-purple: #6816f0;
            --text-white: #ffffff;
            --text-gray: #aeb4b9;
            --font-main: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }
        body {
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            color: var(--text-white);
            font-family: var(--font-main);
            display: flex; flex-direction: column;
            align-items: center; min-height: 100vh;
        }
        
        /* Header */
        .hero {
            width: 100%; text-align: center; padding: 80px 20px;
            background: radial-gradient(circle at top center, #2a1b4e 0%, var(--bg-dark) 70%);
            border-bottom: 1px solid #2d2d45;
        }
        /* Added ID for JS targeting */
        .hero h1 { font-size: 3rem; margin: 0; letter-spacing: -1px; }
        .hero p { color: var(--text-gray); font-size: 1.2rem; margin-top: 15px; }

        /* Grid */
        .container {
            max-width: 1000px; width: 100%; padding: 60px 20px;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        /* Cards */
        .link-card {
            background-color: var(--bg-panel);
            border: 1px solid #2d2d45;
            padding: 25px; border-radius: 4px;
            text-decoration: none; color: var(--text-white);
            transition: all 0.3s ease;
            display: flex; justify-content: space-between; align-items: center;
            position: relative; overflow: hidden;
        }
        .link-card:hover {
            transform: translateY(-3px);
            border-color: var(--accent-purple);
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
        }
        .link-card::before {
            content: ''; position: absolute; left: 0; top: 0;
            height: 100%; width: 4px; background-color: var(--accent-purple);
            opacity: 0; transition: opacity 0.3s;
        }
        .link-card:hover::before { opacity: 1; }
        .arrow { color: var(--accent-purple); font-weight: bold; }

        /* Footer */
        footer {
            margin-top: auto; 
            padding: 30px;
            color: var(--text-gray);
            font-size: 0.9rem;
            text-align: center;
            border-top: 1px solid #2d2d45;
            width: 100%;
            box-sizing: border-box;
        }
        
        .footer-link {
            color: var(--accent-purple);
            text-decoration: none;
            font-weight: 600;
        }
        .footer-link:hover { text-decoration: underline; }
    </style>
</head>
<body>

    <div class="hero">
        <h1 id="page-title">Operational Gateway</h1>
        <p>Secure Proxy & Access Point. Systems Normal.</p>
    </div>

    <div class="container" id="button-container">
        </div>

    <footer>
        System v1.3 | Contact Support: <a id="dynamic-email" class="footer-link" href="#">Loading...</a>
    </footer>

    <script>
        fetch('links.txt')
            .then(response => response.text())
            .then(text => {
                const container = document.getElementById('button-container');
                const lines = text.split('\n');

                lines.forEach(line => {
                    const cleanLine = line.trim();
                    if (!cleanLine) return;

                    // 1. Check for TITLE (Updates Tab Name AND Page Header)
                    if (cleanLine.startsWith('title=')) {
                        const newTitle = cleanLine.replace('title=', '').trim();
                        
                        // Set Browser Tab
                        document.title = newTitle;
                        
                        // Set Page H1
                        const h1 = document.getElementById('page-title');
                        if (h1) h1.innerText = newTitle;
                        
                        return;
                    }

                    // 2. Check for EMAIL
                    if (cleanLine.startsWith('email=')) {
                        const email = cleanLine.replace('email=', '').trim();
                        const emailEl = document.getElementById('dynamic-email');
                        if (emailEl) {
                            emailEl.innerText = email;
                            emailEl.href = 'mailto:' + email;
                        }
                        return;
                    }

                    // 3. Render BUTTONS
                    const parts = cleanLine.split(',');
                    if (parts.length >= 2) {
                        const title = parts[0].trim();
                        const url = parts[1].trim();

                        if (title && url) {
                            const a = document.createElement('a');
                            a.className = 'link-card';
                            a.href = url;
                            if(url.startsWith('http')) { a.target = "_blank"; }

                            a.innerHTML = `
                                <span class="link-title">${title}</span>
                                <span class="arrow">â†’</span>
                            `;
                            container.appendChild(a);
                        }
                    }
                });
            })
            .catch(err => console.error('Error loading links:', err));
    </script>
</body>
</html>
